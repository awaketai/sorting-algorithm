希尔排序
----

文章：https://www.runoob.com/w3cnote/shell-sort.html

希尔排序是插入排序的一种高效的改进版本，插入排序，顾名思义就是把数组的每一个元素按照大小关系，插入到前面有序区的对应位置

> 希尔排序：将整个待排序的数据列分割为若干子序列，然后对若干子序列分别进行排序，待整个序列中的记录基本有序时，再对全体记录进行直接插入排序

### 算法步骤

+ 1.选择逻辑分组增量，对数据列进行逻辑分组

假设数据列为：5 7 8 3 1 2 4 6 

按照数据列大小的一半分组，那么逻辑分组增量为4，分组结果为

    组1：5    1
    
    组2： 7    2
    
    组3：   8    5
    
    组4：     3    6

+ 2.对逻辑分组分别进行插入排序

```

    组1：1    5
    
    组2： 2    7
    
    组3：   5    8
    
    组4：     3    6
```

+ 3.缩小逻辑分组增量，重复执行步骤1,2

+ 4.最后整个数据列分为一组，进行插入排序

### 实现

```go
// 希尔排序
// 1.将数据集合按照指定增量分割为多个 子 集合
// 2.对每个 子 集合进行插入排序
// 3.缩小增量为 上次一半，执行第2步
// 4.直到增量为1，此时数据集已经接近有序，执行插入排序
func ShellSort(arr []int)[]int{
	var len = len(arr)
	// 设置增量
	var gap = 1
	for gap < gap / 3 {
		gap = gap * 3 + 1
	}
	for gap > 0 {
		// 将数组按照增量分组
		// [6,4,3,9,7,2,1,8]
		for i := gap; i < len;i++ { // i = 1
			tmp := arr[i] // tmp = arr[1] = 4
			j := i - gap // j = 1-1 = 0
			// 对每个子分组进行插入排序
			for j >= 0 && arr[j] > tmp {
				arr[j+gap] = arr[j] // arr[0+1] 4 = arr[0] 6
				j -= gap // -1
			}
			arr[j+gap] = tmp // arr[-1+1] 6 = 4
		}
		gap = gap / 3
	}
	return arr
}
```
